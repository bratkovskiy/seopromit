from app import create_app, db
from app.models import Region

app = create_app()

# Список регионов Яндекс.Вебмастера
regions_data = [
    {"yandex_id": 225, "name": "Россия"},
    {"yandex_id": 11235, "name": "Алтайский край"},
    {"yandex_id": 11375, "name": "Амурская область"},
    {"yandex_id": 10842, "name": "Архангельская область"},
    {"yandex_id": 10946, "name": "Астраханская область"},
    {"yandex_id": 10645, "name": "Белгородская область"},
    {"yandex_id": 10650, "name": "Брянская область"},
    {"yandex_id": 10658, "name": "Владимирская область"},
    {"yandex_id": 10950, "name": "Волгоградская область"},
    {"yandex_id": 10853, "name": "Вологодская область"},
    {"yandex_id": 10672, "name": "Воронежская область"},
    {"yandex_id": 10687, "name": "Ивановская область"},
    {"yandex_id": 11266, "name": "Иркутская область"},
    {"yandex_id": 11013, "name": "Кабардино-Балкарская Республика"},
    {"yandex_id": 10857, "name": "Калининградская область"},
    {"yandex_id": 11020, "name": "Карачаево-Черкесская Республика"},
    {"yandex_id": 11282, "name": "Кемеровская область (Кузбасс)"},
    {"yandex_id": 10699, "name": "Костромская область"},
    {"yandex_id": 10995, "name": "Краснодарский край"},
    {"yandex_id": 11309, "name": "Красноярский край"},
    {"yandex_id": 11158, "name": "Курганская область"},
    {"yandex_id": 10705, "name": "Курская область"},
    {"yandex_id": 10712, "name": "Липецкая область"},
    {"yandex_id": 1, "name": "Москва и Московская область"},
    {"yandex_id": 10897, "name": "Мурманская область"},
    {"yandex_id": 11079, "name": "Нижегородская область"},
    {"yandex_id": 10904, "name": "Новгородская область"},
    {"yandex_id": 11316, "name": "Новосибирская область"},
    {"yandex_id": 11318, "name": "Омская область"},
    {"yandex_id": 11084, "name": "Оренбургская область"},
    {"yandex_id": 10772, "name": "Орловская область"},
    {"yandex_id": 11095, "name": "Пензенская область"},
    {"yandex_id": 11108, "name": "Пермский край"},
    {"yandex_id": 11409, "name": "Приморский край"},
    {"yandex_id": 10926, "name": "Псковская область"},
    {"yandex_id": 11111, "name": "Республика Башкортостан"},
    {"yandex_id": 11010, "name": "Республика Дагестан"},
    {"yandex_id": 11012, "name": "Республика Ингушетия"},
    {"yandex_id": 11077, "name": "Республика Марий Эл"},
    {"yandex_id": 11117, "name": "Республика Мордовия"},
    {"yandex_id": 11021, "name": "Республика Северная Осетия — Алания"},
    {"yandex_id": 11119, "name": "Республика Татарстан"},
    {"yandex_id": 11029, "name": "Ростовская область"},
    {"yandex_id": 10776, "name": "Рязанская область"},
    {"yandex_id": 11131, "name": "Самарская область"},
    {"yandex_id": 10174, "name": "Санкт-Петербург и Ленинградская область"},
    {"yandex_id": 11162, "name": "Свердловская область"},
    {"yandex_id": 10795, "name": "Смоленская область"},
    {"yandex_id": 11069, "name": "Ставропольский край"},
    {"yandex_id": 10802, "name": "Тамбовская область"},
    {"yandex_id": 10819, "name": "Тверская область"},
    {"yandex_id": 11353, "name": "Томская область"},
    {"yandex_id": 10832, "name": "Тульская область"},
    {"yandex_id": 11153, "name": "Ульяновская область"},
    {"yandex_id": 11457, "name": "Хабаровский край"},
    {"yandex_id": 11193, "name": "Ханты-Мансийский автономный округ - Югра"},
    {"yandex_id": 11225, "name": "Челябинская область"},
    {"yandex_id": 11024, "name": "Чеченская Республика"},
    {"yandex_id": 11156, "name": "Чувашская Республика"},
    {"yandex_id": 10841, "name": "Ярославская область"},
]

def seed_regions():
    print("Начинаем заполнение справочника регионов...")
    
    # Очищаем таблицу регионов
    Region.query.delete()
    
    # Добавляем регионы
    for region_data in regions_data:
        region = Region(
            yandex_id=region_data["yandex_id"],
            name=region_data["name"]
        )
        db.session.add(region)
    
    # Сохраняем изменения
    db.session.commit()
    print(f"Добавлено {len(regions_data)} регионов")

if __name__ == '__main__':
    with app.app_context():
        seed_regions()
